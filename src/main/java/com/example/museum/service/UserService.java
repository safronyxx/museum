package com.example.museum.service;

import com.example.museum.model.User;
import java.util.List;


/**
 * Интерфейс сервиса для управления пользователями.
 * <p>
 * Предоставляет методы для CRUD-операций, проверки существования по email
 * и получения списка гидов.
 */
public interface UserService {

    /**
     * Возвращает список всех зарегистрированных пользователей.
     *
     * @return неизменяемый список объектов {@link User}; может быть пустым
     */
    List<User> findAll();

    /**
     * Находит пользователя по уникальному идентификатору.
     *
     * @param id идентификатор пользователя
     * @return объект {@link User}, если пользователь найден, иначе {@code null}
     */
    User findById(Long id);

    /**
     * Сохраняет или обновляет пользователя в системе.
     * <p>
     * Используется при регистрации новых пользователей или изменении ролей администраторами.
     *
     * @param user объект пользователя для сохранения
     * @return сохранённый объект {@link User}
     */
    User save(User user);

    /**
     * Удаляет учётную запись пользователя по идентификатору.
     * <p>
     * Удаление пользователя с ролью {@code SUPER_ADMIN} запрещено на уровне контроллера.
     *
     * @param id идентификатор удаляемого пользователя
     */
    void deleteById(Long id);

    /**
     * Проверяет, существует ли пользователь с указанным email-адресом в системе.
     * <p>
     * Используется при регистрации для предотвращения дублирования учётных записей.
     *
     * @param email email-адрес для проверки
     * @return {@code true}, если пользователь с таким email существует, иначе {@code false}
     */
    boolean existsByEmail(String email);

    /**
     * Находит пользователя по email-адресу.
     * <p>
     * Email является уникальным полем, поэтому метод возвращает не более одного пользователя.
     *
     * @param email email-адрес пользователя
     * @return объект {@link User}, если пользователь найден, иначе {@code null}
     */
    User findByEmail(String email);

    /**
     * Возвращает список всех пользователей с ролью {@code GUIDE}.
     * <p>
     * Используется, например, при создании выпадающего списка кураторов выставок.
     *
     * @return список гидов; может быть пустым, если гиды не назначены
     */
    List<User> findAllGuides();
}