package com.example.museum.service;

import com.example.museum.model.Visit;
import java.util.List;


/**
 * Интерфейс сервиса для управления посещениями выставок.
 * <p>
 * Обеспечивает CRUD-операции и методы для сортировки посещений
 * по названию выставки.
 */
public interface VisitService {

    /**
     * Возвращает полный список всех зафиксированных посещений.
     *
     * @return список объектов {@link Visit}; может быть пустым
     */
    List<Visit> findAll();

    /**
     * Находит запись о посещении по уникальному идентификатору.
     *
     * @param id идентификатор записи о посещении
     * @return объект {@link Visit}, если запись найдена, иначе {@code null}
     */
    Visit findById(Long id);

    /**
     * Регистрирует новое посещение выставки.
     * <p>
     * Обычно вызывается после успешной отправки формы регистрации на выставку.
     *
     * @param visit объект посещения для сохранения
     * @return сохранённая запись о посещении
     */
    Visit save(Visit visit);

    /**
     * Удаляет запись о посещении по идентификатору.
     * <p>
     * Эта операция может быть недоступна в пользовательском интерфейсе, но реализована для полноты API.
     *
     * @param id идентификатор удаляемой записи
     */
    void deleteById(Long id);

    /**
     * Возвращает список всех посещений, отсортированный по названию выставки.
     *
     * @param sortDirection направление сортировки: "asc" — по возрастанию, "desc" — по убыванию
     * @return отсортированный список посещений
     * @throws IllegalArgumentException если передано некорректное значение направления
     */
    List<Visit> findAllSortedByExhibitionTitle(String sortDirection);

    /**
     * Возвращает список посещений конкретного пользователя, отсортированный по названию выставки.
     * <p>
     * Используется на странице "Посещения" для посетителей, чтобы отобразить их личную историю.
     *
     * @param email         email посетителя
     * @param sortDirection направление сортировки: "asc" или "desc"
     * @return список посещений данного пользователя
     */
    List<Visit> findVisitsByVisitorEmail(String email, String sortDirection);

}